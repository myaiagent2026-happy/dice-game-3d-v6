<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>å¤§è©±éª°ï½œv5 Stable</title>
  <style>
    :root{
      --bg:#07140d;
      --felt:#0f3b24;
      --felt2:#0a2c19;
      --text:#e8f6ea;
      --muted:#9bc0a8;
      --accent:#62da73;
      --die-size:56px;
    }
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    body{
      margin:0;min-height:100dvh;display:flex;align-items:center;justify-content:center;padding:10px;
      background:
        radial-gradient(900px 500px at 50% 35%, #1b5a39 0%, transparent 65%),
        linear-gradient(180deg,var(--felt),var(--bg));
      color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","PingFang TC","Noto Sans TC",sans-serif;
    }
    .app{width:min(100%,430px)}
    .header{text-align:center;margin-bottom:8px}
    .titleRow{display:flex;align-items:center;justify-content:center;gap:10px}
    .titleIcon{width:22px;height:22px;border-radius:6px;background:#f4f8fb;box-shadow:6px 6px 0 #d9e2ea, 0 0 0 1px #bfcad3 inset}
    h1{margin:0;font-size:clamp(32px,9vw,44px);letter-spacing:2px}
    .brand{margin-top:5px;color:var(--muted);font-weight:600;letter-spacing:1px}

    .stat{text-align:center;margin:10px 0 14px}
    .pill{display:inline-block;padding:8px 18px;border-radius:999px;background:#ffffff12;border:1px solid #ffffff24;color:#9ee7a9;font-weight:800}

    .stage{border:1px solid #ffffff1a;border-radius:22px;padding:14px;background:#0000002a;box-shadow:inset 0 1px 0 #ffffff18,0 14px 28px #00000055}
    .diceWrap{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;justify-items:center;align-items:center;min-height:92px}

    .die{
      width:var(--die-size);height:var(--die-size);
      border-radius:14px;
      position:relative;
      background:linear-gradient(145deg,#ffffff,#edf3f8);
      border:1px solid #c5ced6;
      box-shadow:
        0 8px 16px rgba(0,0,0,.42),
        inset -5px -6px 10px rgba(0,0,0,.08),
        inset 4px 4px 8px rgba(255,255,255,.85);
      transform:translateY(0) rotate(0deg);
    }
    .die::after{
      content:"";
      position:absolute;left:8px;right:8px;bottom:-8px;height:10px;border-radius:50%;
      background:rgba(0,0,0,.35);filter:blur(2px);z-index:-1;
    }
    .die.rolling{animation:roll .72s cubic-bezier(.22,.8,.34,1)}
    @keyframes roll{
      0%{transform:translateY(0) rotate(0deg) scale(1)}
      25%{transform:translateY(-16px) rotate(-13deg) scale(.98)}
      55%{transform:translateY(5px) rotate(12deg) scale(1.02)}
      80%{transform:translateY(-4px) rotate(-6deg)}
      100%{transform:translateY(0) rotate(0deg)}
    }

    .face{position:absolute;inset:0;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);padding:12%;gap:6%}
    .pip{width:100%;height:100%;border-radius:50%;background:radial-gradient(circle at 35% 35%,#2a3440,#111821)}

    .controls{margin-top:14px;display:grid;gap:10px}
    .rollBtn{border:none;border-radius:16px;padding:15px 18px;font-size:clamp(26px,7vw,34px);font-weight:900;letter-spacing:3px;color:#08220f;
      background:linear-gradient(180deg,#7de784,#3ec65a);box-shadow:0 12px 24px #26b84a66,inset 0 1px 0 #ffffff99}
    .rollBtn:active{transform:translateY(2px) scale(.985)}
    .sound{margin:0 auto;background:#ffffff12;border:1px solid #ffffff22;border-radius:999px;padding:9px 16px;color:var(--muted)}

    .result{margin-top:12px;border:1px solid #ffffff1a;border-radius:16px;padding:14px;text-align:center;background:#0000002a}
    .vals{font-size:clamp(24px,7vw,32px);font-weight:900;letter-spacing:6px;color:#8ef59b}
    .sum{font-size:clamp(34px,10vw,44px);font-weight:900;margin-top:4px}
    .tip{margin-top:10px;color:#8ba795;font-size:13px}
    .foot{text-align:center;margin-top:12px;color:#ffffff3a;font-size:12px;letter-spacing:.5px}
  </style>
</head>
<body>
  <main class="app">
    <header class="header">
      <div class="titleRow"><div class="titleIcon"></div><h1>å¤§è©±éª°</h1></div>
      <div class="brand">PREMIUM 3D Â· CASINO STYLE</div>
    </header>

    <div class="stat"><span class="pill">ç¸½é»æ•¸ï¼š<span id="sumTop">0</span></span></div>

    <section class="stage"><div class="diceWrap" id="diceWrap"></div></section>

    <div class="controls">
      <button class="rollBtn" id="rollBtn">æ“²éª°</button>
      <button class="sound" id="soundBtn">ğŸ”Š éŸ³æ•ˆ</button>
    </div>

    <section class="result">
      <div style="color:#9bc4a7">çµæœ</div>
      <div class="vals" id="vals">- ãƒ» - ãƒ» - ãƒ» - ãƒ» -</div>
      <div class="sum" id="sum">0</div>
      <div class="tip">æç¤ºï¼šå¯è¼ªæµæ“²ï¼Œæ–¹ä¾¿æœ‹å‹èšæœƒç©å¤§è©±éª°</div>
    </section>

    <div class="foot">LIAR'S DICE Â· PREMIUM 3D MOBILE</div>
  </main>

  <script>
    const wrap = document.getElementById('diceWrap');
    const valsEl = document.getElementById('vals');
    const sumEl = document.getElementById('sum');
    const sumTop = document.getElementById('sumTop');
    const rollBtn = document.getElementById('rollBtn');
    const soundBtn = document.getElementById('soundBtn');
    let audioCtx = null, soundOn = true;

    const layouts = {
      1:[[2,2]],
      2:[[1,1],[3,3]],
      3:[[1,1],[2,2],[3,3]],
      4:[[1,1],[1,3],[3,1],[3,3]],
      5:[[1,1],[1,3],[2,2],[3,1],[3,3]],
      6:[[1,1],[1,3],[2,1],[2,3],[3,1],[3,3]]
    };

    function makeDie(){
      const d = document.createElement('div'); d.className='die';
      const f = document.createElement('div'); f.className='face'; d.appendChild(f);
      wrap.appendChild(d);
      return d;
    }
    const dice = Array.from({length:5}, makeDie);

    function renderDie(d, v){
      const f = d.firstChild; f.innerHTML='';
      layouts[v].forEach(([r,c])=>{
        const p=document.createElement('span'); p.className='pip';
        p.style.gridRow=String(r); p.style.gridColumn=String(c);
        f.appendChild(p);
      });
    }

    function ensureAudio(){
      if(!audioCtx){const AC=window.AudioContext||window.webkitAudioContext; if(AC) audioCtx=new AC();}
      if(audioCtx && audioCtx.state==='suspended') audioCtx.resume();
    }
    function playRoll(){
      if(!soundOn||!audioCtx) return;
      const now=audioCtx.currentTime;
      [230,290,340,300].forEach((hz,i)=>{
        const o=audioCtx.createOscillator(), g=audioCtx.createGain();
        o.type='triangle'; o.frequency.value=hz;
        g.gain.setValueAtTime(0.0001,now+i*0.04);
        g.gain.exponentialRampToValueAtTime(0.03,now+i*0.04+0.01);
        g.gain.exponentialRampToValueAtTime(0.0001,now+i*0.04+0.11);
        o.connect(g).connect(audioCtx.destination); o.start(now+i*0.04); o.stop(now+i*0.04+0.12);
      });
    }

    function roll(playAudio=true){
      if(playAudio){try{ensureAudio();playRoll();}catch{}}
      const nums=[];
      dice.forEach((d,i)=>{
        const n=Math.floor(Math.random()*6)+1; nums.push(n);
        d.classList.remove('rolling'); void d.offsetWidth; d.classList.add('rolling');
        setTimeout(()=>renderDie(d,n), 120 + i*30);
      });
      setTimeout(()=>{
        const sum=nums.reduce((a,b)=>a+b,0);
        valsEl.textContent=nums.join(' ãƒ» ');
        sumEl.textContent=sum; sumTop.textContent=sum;
      }, 730);
    }

    rollBtn.addEventListener('click',()=>roll(true));
    soundBtn.addEventListener('click',()=>{
      ensureAudio(); soundOn=!soundOn;
      soundBtn.textContent=soundOn?'ğŸ”Š éŸ³æ•ˆ':'ğŸ”‡ éœéŸ³';
      soundBtn.style.opacity=soundOn?'1':'.6';
    });

    // stable initial render (no audio)
    setTimeout(()=>roll(false), 120);
  </script>
</body>
</html>